
<% if current_user  %>
<%= render "shared/navbar2" %>
<% else  %>
<%= render "shared/navbar" %>
<% end %>

<%# forms %>
<div class="simpleform-container mt-4">
<form class="row gy-2 gx-3 align-items-center justify-content-center">

  <%= simple_form_for :search, url: trails_path, method: "GET" do |f| %>
    <div class="col-lg-2">
      <%= f.input :query, label: "Search", :input_html => { :class => 'form-control', placeholder: "Find a trail" } %>
    </div>
    <div class="col-lg-2">
      <%= f.input :difficulties, label: "Difficult level", collection: Trail.difficulties.keys, as: :select,  include_hidden: false, prompt: 'All' %>
    </div>
    <div class="col-lg-2">
      <%= f.input :distance, collection: Trail::DISTANCE_MAP.keys, as: :select, include_hidden: false, prompt: 'All' %>
    </div>
    <div class="col-lg-2">
      <%= f.input :duration, collection: Trail::DURATION_MAP.keys, as: :select,  include_hidden: false, prompt: 'All' %>
    </div>
    <div class="col-lg-1">
      <%= f.submit "Search", class: "btn searchbtn" %>
      <%# <%= link_to "Reset", root_path %>
    </div>
    <div class="col-lg-1">
      <%= link_to "Clear filters", trails_path, class: "btn searchbtn text" %>
    </div>
  <% end %>
</div>


 <% if user_signed_in? %>
  <% else %>
<%# header image %>
<nav data-spy="scroll" data-target="#jump" data-offset="50">
  <section class="hero image-as-background container-fluid" style="background-image: url('https://images.unsplash.com/photo-1626568767524-50b13c293a6d?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1674&q=80');">
    <div class="hero-container">
      <div class="hero-title animate fadeInLeft delay-600 d-flex">
        Find a new adventure
      </div>
      <div class="d-flex justify-content-center" id="jump">
        <a href="#trails" class="hero-button animate fadeInLeft delay-800" title="Click to see more">EXPLORE</a>
      </div>
    </div>
  </section>
</nav>
<% end %>





<h1 class="margin-title-lg" id="scrollspycontent"> Find your next hike ...</h1>
<%# search form %>
<div class="search-bar d-flex mb-4 justify-content-center">
<%= form_with url: trails_path, method: :get, class: "d-flex" do %>


  <%= text_field_tag :query,
    params[:query],
    class: "form-control fs-5 searchbar",
    placeholder: "Find a trail"
  %>

  <%= submit_tag "Search", class: "btn searchbtn" %>
  <%= link_to "Clear Search", root_path, class: "btn clearbtn" %>
<% end %>
</div>
<div id="trails">
<%= render 'shared/cards' %>
</div>




<%# <%= form_with url: trial_path, method: :get, do %>
  <%# <%= form.select :difficulty_level,
    options_for_select(Trail::DIFFICULTIES),
    { include_blank: 'All Trails' },
    class: "border-blue-500 rounded",

  %>
   <%# <%= submit_tag "Search", class: "btn btn-primary" %>
<!-- Snip the search input -->
<%# <% end %>
<%# <%= link_to "Easy", trails_path(Trail::DIFFICULTIES =>"Easy") %>
<%# <%= link_to "Intermediate", trails_path(Trail::DIFFICULTIES =>"Intermediate") %>
<%# <%= link_to "Difficult", trails_path(Trail::DIFFICULTIES =>"Difficult") %>
<%# <%= link_to "clear", trails_path(@trails) %>
<%# <table>
<tr>
  <th>Trails</th>
  <th>Difficulty Level</th>
</tr>
<% @trails.each do |trail| %>
<%# <tr>
  <td><%= trail.name %>
  <%# <td><%= trail.difficulty %>
<%# </tr>
<% end %>
<%# </table> %>


<h1 class="margin-title-lg" id="scrollspycontent"> Find your next hike ...</h1>

<%= render 'shared/cards', empty_message: "No trails found!" %>
